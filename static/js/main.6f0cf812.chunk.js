(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(63)},30:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},57:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),r=a(22),c=a.n(r),u=a(10),i=a(13),m=a(15),d=a(14),o=a(16),s=a(17),E=(a(30),a(66)),v=a(64),f=a(65),h=a(67),b=(a(32),a(8)),p=function(){return n.a.createElement("div",{className:"header-block"},n.a.createElement("h3",{className:"header-title"},n.a.createElement(b.b,{to:"/"},"Game of Thrones DB")),n.a.createElement("ul",{className:"header-links"},n.a.createElement("li",null,n.a.createElement(b.b,{to:"/characters"},"Characters")),n.a.createElement("li",null,n.a.createElement(b.b,{to:"/houses"},"Houses")),n.a.createElement("li",null,n.a.createElement(b.b,{to:"books"},"Books"))))},g=a(4),k=a(6),j=a.n(k),O=a(12),w=(a(36),function e(){var t=this;Object(u.a)(this,e),this.getResource=function(){var e=Object(O.a)(j.a.mark(function e(a){var l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((l=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a,", status: ").concat(l.status));case 5:return e.next=7,l.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(O.a)(j.a.mark(function e(){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("characters/?page=29&pageSize=10");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformCharacter));case 4:case"end":return e.stop()}},e)})),this.getCharacter=function(){var e=Object(O.a)(j.a.mark(function e(a){var l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("characters/".concat(a));case 2:return l=e.sent,e.abrupt("return",t._transformCharacter(l));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(O.a)(j.a.mark(function e(){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("books");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformBook));case 4:case"end":return e.stop()}},e)})),this.getBook=function(){var e=Object(O.a)(j.a.mark(function e(a){var l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("books/".concat(a));case 2:return l=e.sent,e.abrupt("return",t._transformBook(l));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllHouses=Object(O.a)(j.a.mark(function e(){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("houses");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformHouse));case 4:case"end":return e.stop()}},e)})),this.getHouse=function(){var e=Object(O.a)(j.a.mark(function e(a){var l;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("houses/".concat(a));case 2:return l=e.sent,e.abrupt("return",t._transformHouse(l));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this._extractId=function(e){return e.url.match(/\/([0-9]*)$/)[1]},this._transformCharacter=function(e){return{name:e.name?e.name:n.a.createElement(C,null),gender:e.gender?e.gender:n.a.createElement(C,null),born:e.born?e.born:n.a.createElement(C,null),died:e.died?e.died:n.a.createElement(C,null),culture:e.culture?e.culture:n.a.createElement(C,null),id:t._extractId(e)}},this._transformHouse=function(e){return{name:e.name?e.name:n.a.createElement(C,null),region:e.region?e.region:n.a.createElement(C,null),words:e.words?e.words:n.a.createElement(C,null),titles:e.titles?e.titles:n.a.createElement(C,null),overlord:e.overlord?e.overlord:n.a.createElement(C,null),ancestralWeapons:e.hasAncestralWeapons?e.hasAncestralWeapons:n.a.createElement(C,null),id:t._extractId(e)}},this._transformBook=function(e){return{name:e.name?e.name:n.a.createElement(C,null),numberOfPages:e.numberOfPages?e.numberOfPages:n.a.createElement(C,null),publisher:e.publisher?e.publisher:n.a.createElement(C,null),released:e.released?e.released:n.a.createElement(C,null),country:e.county?e.county:n.a.createElement(C,null),authors:e.authors?e.authors:n.a.createElement(C,null),id:t._extractId(e)}},this._apiBase="https://www.anapioficeandfire.com/api/"}),C=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"red"},"NO_DATA"))},N=(a(38),a(40),function(){return n.a.createElement("div",{className:"loadingio-spinner-spin-q7d2l6ts6w"},n.a.createElement("div",{className:"ldio-pmssnc2x4z"},n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null))))}),I=(a(42),function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{src:"/img/error_2.jpg",alt:"error"}),n.a.createElement("span",null,"\u0421\u043e\u0440\u0438, \u0431\u0440\u0430\u0442\u0438\u043a. \u0421 \u0441\u0435\u0440\u0432\u0430\u0447\u043a\u043e\u043c \u0431\u0435\u0434\u0430. \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442. \u041f\u0438\u0448\u0438\u0442\u0435 \u043c\u043d\u0435 \u0432... \u0414\u0430 \u043b\u0430\u0434\u043d\u043e, \u0448\u0443\u0447\u0443"))});var S=function(e){var t=e.char,a=t.name,l=t.gender,r=t.born,c=t.died,u=t.culture;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",null,"Random Character: ",a),n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},n.a.createElement("span",{className:"term"},"Gender "),n.a.createElement("span",null,l)),n.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},n.a.createElement("span",{className:"term"},"Born "),n.a.createElement("span",null,r)),n.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},n.a.createElement("span",{className:"term"},"Died "),n.a.createElement("span",null,c)),n.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},n.a.createElement("span",{className:"term"},"Culture "),n.a.createElement("span",null,u))))},y=function(){var e=new w,t=Object(l.useState)({}),a=Object(g.a)(t,2),r=a[0],c=a[1],u=Object(l.useState)(!1),i=Object(g.a)(u,2),m=i[0],d=i[1],o=Object(l.useState)(!0),s=Object(g.a)(o,2),E=s[0],v=s[1];Object(l.useEffect)(function(){b();var e=setInterval(b,1e4);return function(){clearInterval(e)}},[]);var f=function(e){c(e),v(!1)},h=function(e){d(!0),v(!1)},b=function(){var t=Math.floor(150*Math.random()+25);e.getCharacter(t).then(f).catch(h)},p=m?n.a.createElement(I,null):null,k=E?n.a.createElement(N,null):null,j=E||m?null:n.a.createElement(S,{char:r});return n.a.createElement("div",{className:"random-block rounded"},p,k,j)};a(44);var x=function(e){var t=e.getData,a=e.renderItem,r=e.onItemSelected,c=Object(l.useState)([]),u=Object(g.a)(c,2),i=u[0],m=u[1];if(Object(l.useEffect)(function(){t().then(function(e){m(e)})},[]),!i)return n.a.createElement(N,null);var d=i.map(function(e){var t=e.id,l=a(e);return n.a.createElement("li",{key:t,className:"list-group-item",onClick:function(){return r(e.id)}},l)});return n.a.createElement("ul",{className:"item-list list-group"},d)},D=(a(46),a(23)),_=a.n(D),B=function(e){var t=e.item,a=e.field,l=e.label;return n.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},n.a.createElement("span",{className:"term"},l),n.a.createElement("span",null,t[a]))};var A=function(e){var t=e.children,a=e.itemId,r=e.book,c=e.getData,u=Object(l.useState)(null),i=Object(g.a)(u,2),m=i[0],d=i[1];function o(){a&&c(a).then(function(e){d(e)})}if(Object(l.useEffect)(function(){o()},[]),Object(l.useEffect)(function(){o(),console.log(m)},[a]),!m)return n.a.createElement("span",{className:"select-error"},"Click on item!");var s=m.name;return n.a.createElement("div",{className:"item-details rounded"},n.a.createElement(function(){return r?n.a.createElement(_.a,null,n.a.createElement(b.b,{to:"/books"},"Back to list")):null},null),n.a.createElement("h4",null,s),n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.Children.map(t,function(e){return n.a.cloneElement(e,{item:m})})))},R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).gotService=new w,a.state={selectedItem:null,error:!1,loading:!0},a.onItemSelected=function(e){a.setState({selectedItem:e,loading:!1})},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0,loading:!1})}},{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.selectedItem,t.loading),l=t.error,r=a?n.a.createElement(N,null):null,c=l?n.a.createElement(I,null):null,u=c||r?null:n.a.createElement(v.a,null,n.a.createElement(f.a,{md:"6"},n.a.createElement(x,{onItemSelected:e.onItemSelected,getData:e.gotService.getAllCharacters,renderItem:function(e){var t=e.name,a=e.gender;return"".concat(t," (").concat(a,")")}})),n.a.createElement(f.a,{md:"6"},n.a.createElement(A,{itemId:e.state.selectedItem,getData:e.gotService.getCharacter},n.a.createElement(B,{field:"gender",label:"Gender"}),n.a.createElement(B,{field:"born",label:"Born"}),n.a.createElement(B,{field:"culture",label:"Culture"}),n.a.createElement(B,{field:"died",label:"Died"}))));return this.state.error?n.a.createElement(I,null):n.a.createElement(n.a.Fragment,null,c,r,u)}}]),t}(l.Component),H=function(e){function t(){var e,a;Object(u.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).gotService=new w,a.state={selectedItem:null,error:!1,loading:!0},a.onItemSelected=function(e){a.setState({selectedItem:e,loading:!1})},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0,loading:!1})}},{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.selectedItem,t.loading),l=t.error,r=a?n.a.createElement(N,null):null,c=l?n.a.createElement(I,null):null,u=c||r?null:n.a.createElement(v.a,null,n.a.createElement(f.a,{md:"6"},n.a.createElement(x,{onItemSelected:e.onItemSelected,getData:e.gotService.getAllHouses,renderItem:function(e){var t=e.name,a=e.region;return"".concat(t,", (").concat(a,")")}})),n.a.createElement(f.a,{md:"6"},n.a.createElement(A,{itemId:e.state.selectedItem,getData:e.gotService.getHouse},n.a.createElement(B,{field:"name",label:"Name"}),n.a.createElement(B,{field:"region",label:"Region"}),n.a.createElement(B,{field:"words",label:"Words"}))));return this.state.error?n.a.createElement(I,null):n.a.createElement(n.a.Fragment,null,c,r,u)}}]),t}(l.Component),P=a(0),F=function(){var e=new w,t={error:!1,loading:!0},a=t.error?n.a.createElement(I,null):null;if(t.error)return n.a.createElement(I,null);var l=Object(P.f)();return n.a.createElement("div",{className:"bookPage"},a,n.a.createElement(x,{className:"itemList",onItemSelected:function(e){l("".concat(e))},getData:e.getAllBooks,renderItem:function(e){var t=e.name;return"".concat(t)}}))},z=function(){var e=new w,t=Object(P.g)().id;return n.a.createElement("div",{className:"bookItem"},n.a.createElement(A,{book:!0,itemId:t,getData:e.getBook},n.a.createElement(B,{field:"name",label:"Name"}),n.a.createElement(B,{field:"authors",label:"Authors"}),n.a.createElement(B,{field:"numberOfPages",label:"Number of pages"}),n.a.createElement(B,{field:"publisher",label:"Publisher"}),n.a.createElement(B,{field:"country",label:"Country"}),n.a.createElement(B,{field:"released",label:"Released"})))},M=(a(57),F),W=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).gotService=new w,e.state={randomChar:!0,error:!1},e.btnClick=e.btnClick.bind(Object(s.a)(Object(s.a)(e))),e}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"btnClick",value:function(){this.setState({randomChar:!this.state.randomChar})}},{key:"render",value:function(){return this.state.error?n.a.createElement(I,null):n.a.createElement(b.a,null,n.a.createElement("div",{className:"app"},n.a.createElement(E.a,null,n.a.createElement(p,null)),n.a.createElement(E.a,null,n.a.createElement(v.a,null,n.a.createElement(f.a,{className:"transit",lg:{size:5,offset:0}},this.state.randomChar?n.a.createElement(y,null):null),n.a.createElement(f.a,{lg:{size:5,offset:0}},n.a.createElement(h.a,{className:"mb-20",color:"info",outline:!0,onClick:this.btnClick},this.state.randomChar?"Hide random char":"Show random char"))),n.a.createElement(P.c,null,n.a.createElement(P.a,{path:"/characters",element:n.a.createElement(R,null)}),n.a.createElement(P.a,{path:"/houses",element:n.a.createElement(H,null)}),n.a.createElement(P.a,{path:"/books",exact:!0,element:n.a.createElement(M,null)}),n.a.createElement(P.a,{path:"/books/:id",element:n.a.createElement(z,null)})))))}}]),t}(l.Component);a(59),a(61);c.a.render(n.a.createElement(W,null),document.getElementById("root"))}},[[25,2,1]]]);
//# sourceMappingURL=main.6f0cf812.chunk.js.map